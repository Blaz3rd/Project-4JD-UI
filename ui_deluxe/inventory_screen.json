//File made by @CrizArtEX and @HawfHuman.
//(c) Don't use any code design without permission!
{
  "namespace": "crafting_deluxe",

  /////////////////////////////////////////////////////////////////////////////
  //  Toggles.
  /////////////////////////////////////////////////////////////////////////////

  // Survival and Crafting Buttons.

  "survival_show_recipe_book_toggle@common.toggle": {
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": [ 22.5, 22.5 ],
    "layer": 4,
    "offset": [ 15, 15 ],

    "$button_content": "crafting.layout_toggle_content",
    "$toggle_name": "layout_toggle",

    "$template_toggle": "crafting.layout_template_toggle",

    "$border_visible": false,

    "$toggle_focus_wrap_enabled": false,

    "$unchecked_control": "crafting_deluxe.inventory_button_default",
    "$checked_control": "crafting_deluxe.inventory_button_default",
    "$unchecked_hover_control": "crafting_deluxe.inventory_button_hover",
    "$checked_hover_control": "crafting_deluxe.inventory_button_hover",

    "$toggle_group_forced_index": "$recipe_book_layout_index",
    "$toggle_state_binding_name": "#is_recipe_book_layout",
    "$toggle_binding_type": "global",
    "bindings": [
      {
        "binding_type": "global",
        "binding_name": "#is_survival_layout",
        "binding_name_override": "#visible"
      }
    ]
  },

  "survival_hide_recipe_book_toggle@crafting_deluxe.survival_show_recipe_book_toggle": {
    "$toggle_group_forced_index": "$survival_layout_index",
    
    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_survival_layout",
    "bindings": [
      {
        "binding_type": "global",
        "binding_name": "#is_recipe_book_layout",
        "binding_name_override": "#visible"
      }
    ]
  },

  "crafting_show_recipe_book_toggle@crafting_deluxe.survival_show_recipe_book_toggle": {
    "offset": [ 15, 15 ],

    "$unchecked_control": "crafting_table_java.recipe_button_default",
    "$checked_control": "crafting_table_java.recipe_button_default",
    "$unchecked_hover_control": "crafting_table_java.recipe_button_hover",
    "$checked_hover_control": "crafting_table_java.recipe_button_hover"
  },

  "crafting_hide_recipe_book_toggle@crafting_deluxe.crafting_show_recipe_book_toggle": {
    "$toggle_group_forced_index": "$survival_layout_index",
    
    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_survival_layout",
    "bindings": [
      {
        "binding_type": "global",
        "binding_name": "#is_recipe_book_layout",
        "binding_name_override": "#visible"
      }
    ]
  },

  // Creative Buttons.

  "toggle_button_base": {
    "type": "image",
    "size": [ 22.5, 22.5 ],
    "layer": 4
  },

  "creative_button_default@crafting_deluxe.toggle_button_base": {
    "texture": "textures/ui_deluxe/creative_button_default"
  },

  "creative_button_hover@crafting_deluxe.toggle_button_base": {
    "texture": "textures/ui_deluxe/creative_button_hover"
  },

  "creative_button_pressed@crafting_deluxe.toggle_button_base": {
    "texture": "textures/ui_deluxe/creative_button_pressed"
  },

  "recipe_button_default@crafting_deluxe.toggle_button_base": {
    "texture": "textures/ui_deluxe/recipe_button_default"
  },

  "recipe_button_hover@crafting_deluxe.toggle_button_base": {
    "texture": "textures/ui_deluxe/recipe_button_hover"
  },

  "recipe_button_pressed@crafting_deluxe.toggle_button_base": {
    "texture": "textures/ui_deluxe/recipe_button_pressed"
  },

  "inventory_button_default@crafting_deluxe.toggle_button_base": {
    "texture": "textures/ui_deluxe/inventory_button_default"
  },

  "inventory_button_hover@crafting_deluxe.toggle_button_base": {
    "texture": "textures/ui_deluxe/inventory_button_hover"
  },

  "inventory_button_pressed@crafting_deluxe.toggle_button_base": {
    "texture": "textures/ui_deluxe/inventory_button_pressed"
  },

  "creative_show_recipe_book_toggle@common.toggle": {
    "anchor_from": "top_right",
    "anchor_to": "top_right",

    "$button_content": "crafting.layout_toggle_content",
    "$toggle_name": "layout_toggle",

    "$template_toggle": "crafting.layout_template_toggle",

    "$border_visible": false,

    "$toggle_focus_wrap_enabled": false,
    "size": [ 22.5, 22.5 ],
    "$toggle_group_forced_index": "$creative_layout_index",
    
    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_creative_layout",

    "$unchecked_control": "crafting_deluxe.creative_button_default",
    "$checked_control": "crafting_deluxe.creative_button_default",
    "$unchecked_hover_control": "crafting_deluxe.creative_button_hover",
    "$checked_hover_control": "crafting_deluxe.creative_button_hover"
  },

  "creative_hide_recipe_book_toggle@crafting_deluxe.creative_show_recipe_book_toggle": {

    "$unchecked_control": "crafting_deluxe.recipe_button_default",
    "$checked_control": "crafting_deluxe.recipe_button_default",
    "$unchecked_hover_control": "crafting_deluxe.recipe_button_hover",
    "$checked_hover_control": "crafting_deluxe.recipe_button_hover",

    "$toggle_group_forced_index": "$recipe_book_layout_index",
    "$toggle_state_binding_name": "#is_recipe_book_layout",
    "$toggle_binding_type": "global"
  },

  "recipe_book_toggle_panel": {
    "type": "panel",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "ignored": "$is_crafting",
    "layer": 4,
    "controls": [
      { "recipe_book_toggle@common_deluxe.button_panel_recipe_book": { "offset": [ 51, 58.5 ], "ignored": "($touch)" } },
      { "recipe_book_toggle_touch@common_deluxe.button_panel_recipe_book": { "offset": [ 51, 82.5 ], "ignored": "(not $touch)" } }
    ],
    "bindings": [
      {
        "binding_name": "(not #is_creative_layout)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "show_creative_toggle": {
    "type": "panel",
    "ignored": "$is_crafting",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "layer": 4,
    "controls": [
      { "creative_show_recipe_book_toggle@crafting_deluxe.creative_show_recipe_book_toggle": { "offset": [ 36, 33 ], "ignored": "($touch)" } },
      { "creative_show_recipe_book_toggle_touch@crafting_deluxe.creative_show_recipe_book_toggle": { "offset": [ 36, 57 ], "ignored": "(not $touch)" } }
    ],
    "bindings": [
      {
        "binding_name": "#is_creative_mode",
        "binding_name_override": "#visible"
      }
    ]
  },

  "hide_creative_toggle": {
    "type": "panel",
    "layer": 4,
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": [ 321.5, 212 ],
    "controls": [
      { "creative_hide_recipe_book_toggle@crafting_deluxe.creative_hide_recipe_book_toggle": { "offset": [ 36, 33 ], "ignored": "($touch)" } },
      { "creative_hide_recipe_book_toggle_touch@crafting_deluxe.creative_hide_recipe_book_toggle": { "offset": [ 36, 57 ], "ignored": "(not $touch)" } }
    ],
    "bindings": [
      {
        "binding_type": "global",
        "binding_name": "#is_creative_layout",
        "binding_name_override": "#visible"
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////
  //  Common.
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_helpers_tab_navigation_layout": {
    "type": "stack_panel",
    "size": [ "100%c", "100%" ],
    "orientation": "horizontal",
    "controls": [
      {
        "gamepad_helper_left_bumper@common.gamepad_helper_left_bumper": {
          "$gamepad_helper_size": [ "100%c", 26 ],
          "$icon_description_bind": ""
        }
      },
      {
        "gamepad_helper_right_bumper@common.gamepad_helper_right_bumper": {
          "$gamepad_helper_size": [ "100%c", 26 ],
          "$icon_description_bind": "gui.tab"
        }
      }
    ]
  },

  "container_gamepad_helpers_second_row_single@common_deluxe.gamepad_helpers": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "controls": [
      { "recipe_book_layout@crafting_deluxe.gamepad_helpers_tab_navigation_layout": { } }
    ]
  },

  "container_gamepad_helpers_second_row@common_deluxe.gamepad_helpers": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "controls": [
      {
        "left_buttons": {
          "type": "stack_panel",
          "size": [ "100%c", "100%" ],
          "orientation": "horizontal",
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "controls": [
            { "gamepad_helper_thumbstick_left@common.gamepad_helper_thumbstick_left": {} },
            {
              "recipe_book_layout@crafting_deluxe.gamepad_helpers_tab_navigation_layout": {
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "#is_recipe_book_layout",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "creative_layout@crafting_deluxe.gamepad_helpers_tab_navigation_layout": {
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "#is_creative_layout",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "gamepad_helper_left_trigger@common.gamepad_helper_left_trigger": {
                "$gamepad_helper_size": [ "100%c", 26 ],
                "$icon_description_bind": ""
              }
            },
            {
              "gamepad_helper_right_trigger@common.gamepad_helper_right_trigger": {
                "$gamepad_helper_size": [ "100%c", 26 ],
                "$icon_description_bind": "storageManager.groupType"
              }
            }
          ]
        }
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////
  //  Creative Grid Items.
  /////////////////////////////////////////////////////////////////////////////

  "inventory_container_slot_button@common_deluxe.container_slot_button_prototype_deluxe": {
    "$button_take_half_place_one|default": "button.container_take_half_place_one",
    "$button_auto_place|default": "button.container_auto_place",
    "$button_take_all_place_all|default": "button.container_take_all_place_all",
    "$coalesce_button|default": "button.coalesce_stack",
    "$item_painting_button|default": "button.shape_drawing",
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.try_menu_exit",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$button_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$button_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "$button_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "$button_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_auto_place",
        "to_button_id": "$button_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "$button_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop",
        "to_button_id": "button.drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop_all",
        "to_button_id": "button.drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$coalesce_button",
        "mapping_type": "double_pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$coalesce_button",
        "mapping_type": "double_pressed"
      },
      {
        "to_button_id": "$item_painting_button",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.container_slot_hovered",
        "mapping_type": "pressed"
      }
    ]
  },

  "creative_hotbar_container_slot_button@crafting_deluxe.inventory_container_slot_button": {
    "$button_auto_place": "button.container_auto_destroy"
  },

  "no_coalesce_container_slot_button@crafting_deluxe.inventory_container_slot_button": {
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.try_menu_exit",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$button_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$button_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "$button_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "$button_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_auto_place",
        "to_button_id": "$button_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "$button_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop",
        "to_button_id": "button.drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop_all",
        "to_button_id": "button.drop_all",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.shape_drawing",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.container_slot_hovered",
        "mapping_type": "pressed"
      }
    ]
  },

  "creative_no_coalesce_container_slot_button@crafting_deluxe.no_coalesce_container_slot_button": {
    "$button_take_all_place_all": "button.recipe_select",
    "$button_take_half_place_one": "button.recipe_secondary",
    "$button_auto_place": "button.recipe_tertiary"
  },

  "output_no_coalesce_container_slot_button@crafting_deluxe.no_coalesce_container_slot_button": {
    "$button_take_all_place_all": "button.crafting_output_primary",
    "$button_take_half_place_one": "button.crafting_output_secondary",
    "$button_auto_place": "button.crafting_output_tertiary"
  },

  /////////////////////////////////////////////////////////////////////////////
  //  Tab Navigation.
  /////////////////////////////////////////////////////////////////////////////

  "creative_screen_panel": {
    "type": "panel",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": "$dialog_bg_size",
    "controls": [
      { 
        "tab_items@crafting_deluxe.dialog_background_creative": {
          "ignored": "($touch)",
          "size": [ 236, 150 ]
        }
      }, 
      {
        "tab_items_touch@crafting_deluxe.dialog_background_creative_touch": {
          "ignored": "(not $touch)",
          "size": [ 220, 150 ]
        }
      }
    ],
    "variables": [
      {
        "requires": "($touch)",
        "$dialog_bg_size": [ 220, 150 ]
      },
      {
        "requires": "(not $touch)",
        "$dialog_bg_size": [ 236, 150 ]
      }
    ]
  },

  "dialog_background_creative": {
    "type": "image",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "texture": "textures/ui_deluxe/creative_panel",
    "size": [ 236, 150 ]
  },

  "dialog_background_creative_touch": {
    "type": "image",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "texture": "textures/ui_deluxe/creative_panel_touch",
    "size": [ 220, 150 ]
  },

  "icon_image@crafting.icon_image": {
    "anchor_from": "center",
    "anchor_to": "center"
  },

  "equipment_icon@crafting_deluxe.icon_image": {
    "texture": "textures/ui/icon_recipe_equipment"
  },

  "construction_icon@crafting_deluxe.icon_image": {
    "texture": "textures/ui/icon_recipe_construction"
  },

  "nature_icon@crafting_deluxe.icon_image": {
    "texture": "textures/ui/icon_recipe_nature"
  },

  "search_icon@crafting_deluxe.icon_image": {
    "texture": "textures/ui/magnifyingGlass"
  },

  "miscellaneous_icon@crafting_deluxe.icon_image": {
    "texture": "textures/ui/icon_recipe_item"
  },

  "empty_tab_panel": {
    "type": "panel",
    "size": [ 26, 26 ],
    "controls": [
      {
        "img@$tab_icon": {}
      }
    ]
  },

  "left_tab@common_custom_deluxe.custom_tab": {
    "$unchecked_control": "common_console.tab_middle_back",
    "$checked_control": "common_console.tab_middle",
    "$unchecked_hover_control": "common_console.tab_middle_back",
    "$checked_hover_control": "common_console.tab_middle",

    "$toggle_focus_enabled": false,
    "$toggle_name": "navigation_tab",
    "$toggle_group_default_selected": "$construction_index", //Construction tab
    "$tab_content": "crafting_deluxe.empty_tab_panel"
  },

  "search_tab@crafting_deluxe.left_tab": {
    "$is_right_most_tab": true,   
    "$tab_view_binding_name": "search_tab_toggle",
    "$tab_icon": "common_console.icon_recipe_search",
    "$toggle_group_forced_index": "$search_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_left_tab_search"
  },

  "construction_tab@crafting_deluxe.left_tab": {
    "$unchecked_control": "common_console.tab_left_back",
    "$checked_control": "common_console.tab_left",
    "$unchecked_hover_control": "common_console.tab_left_back",
    "$checked_hover_control": "common_console.tab_left",

    "$is_left_most_tab": true,
    "$tab_view_binding_name": "construction_tab_toggle",
    "$tab_icon": "common_console.icon_recipe_construction",
    "$toggle_group_forced_index": "$construction_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_left_tab_construct"
  },

  "equipment_tab@crafting_deluxe.left_tab": {
    "$tab_view_binding_name": "equipment_tab_toggle",
    "$tab_icon": "common_console.icon_recipe_equipment",
    "$toggle_group_forced_index": "$equipment_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_left_tab_equipment"
  },

  "nature_tab@crafting_deluxe.left_tab": {
    "$tab_view_binding_name": "nature_tab_toggle",
    "$tab_icon": "common_console.icon_recipe_nature",
    "$toggle_group_forced_index": "$nature_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_left_tab_nature"
  },

  "items_tab@crafting_deluxe.left_tab": {
    "$tab_view_binding_name": "items_tab_toggle",
    "$tab_icon": "common_console.icon_recipe_item",
    "$toggle_group_forced_index": "$items_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_left_tab_items"
  },

  "tab_navigation_panel_layout": {
    "type": "stack_panel",
    "orientation": "vertical",
    "controls": [
      {
        "navigation_tabs": {
          "type": "panel",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "content": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%", "100%" ],
                "anchor_to": "top_left",
                "anchor_from": "top_left",
                "controls": [
                  { "construction_tab@crafting_deluxe.construction_tab": { "size": [ 50.5, 46 ] } },
                  { "equipment_tab@crafting_deluxe.equipment_tab": { "size": [ 50.5, 46 ] } },
                  { "items_tab@crafting_deluxe.items_tab": { "size": [ 50.5, 46 ] } },
                  { "nature_tab@crafting_deluxe.nature_tab": { "size": [ 50.5, 46 ] } },
                  { "fill_panel": { "type": "panel", "size": [ 50.5, 46 ] } },
                  { "search_tab@crafting_deluxe.search_tab": { "size": [ 50.5, 46 ] } }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "tab_content": {
    "type": "panel",
    "layer": 1,
    "controls": [
      {
        "top_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ 300, 18 ],
          "offset": [ 8.5, 7 ],
          "controls": [
            {
              "creative_label_panel": {
                "type": "panel",
                "size": [ 300, "100%" ],
                "controls": [
                  {
                    "creative_label@crafting.creative_label": {
                      "size": [ "100%", "100%" ],
                      "offset": [ 0, 4.5 ],
                      "anchor_from": "top_middle",
                      "anchor_to": "top_middle",
                      "text_alignment": "center"
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_name": "(not #is_left_tab_search)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "search_text_box_panel": {
                "type": "panel",
                "size": [ 300, "100%" ],
                "controls": [
                  { "full_text_edit_control@crafting_deluxe.full_text_edit_control": { } }
                ],
                "bindings": [
                  {
                    "binding_name": "#is_left_tab_search",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "filter_separator": {
                "type": "panel",
                "size": [ 2.5, 0 ],
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "(not #is_creative_mode)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "filter_panel": {
                "type": "panel",
                "size": [ 27, 18 ],
                "controls": [
                  {
                    "filter_toggle@crafting_deluxe.filter_toggle": {
                      "layer": 4,
                      
                      "$focus_id": "craftable_toggle",
                      "$focus_override_left": "recipe_search_bar",
                      "$focus_override_up": "FOCUS_OVERRIDE_STOP"
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "(not #is_creative_mode)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "scroll_pane@$scrolling_pane_control": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ 325, 84 ]
        }
      },
      {
        "recessed_panel@common_console.recessed_panel": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ 300, 84 ],
          "offset": [ 8.5, 27.5 ],
          "layer": 1
        }
      },
      {
        "crafting_grid@$craft_grid_variant": {
          "layer": 2
        }
      }
    ]
  },

  "creative_tab_content": {
    "type": "panel",
    "layer": 1,
    "controls": [
      {
        "top_panel": {
          "type": "panel",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ 273, 18 ],
          "offset": [ 18, 7 ],
          "controls": [
            {
              "creative_label_panel": {
                "type": "panel",
                "size": [ 273, "100%" ],
                "controls": [
                  {
                    "creative_label@crafting.creative_label": {
                      "size": [ "100%", "100%" ],
                      "offset": [ 0, 4.5 ],
                      "anchor_from": "top_middle",
                      "anchor_to": "top_middle",
                      "text_alignment": "center"
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_name": "(not #is_left_tab_search)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "search_text_box_panel": {
                "type": "panel",
                "size": [273, "100%" ],
                "controls": [
                  { "full_text_edit_control@crafting_deluxe.full_text_edit_control": { } }
                ],
                "bindings": [
                  {
                    "binding_name": "#is_left_tab_search",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "scroll_pane@$scrolling_pane_control": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ 303, 138 ]
        }
      },
      {
        "recessed_panel@common_console.recessed_panel": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ 273, 138 ],
          "offset": [ 18, 26 ],
          "layer": 1
        }
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////
  //  Player and armor.
  /////////////////////////////////////////////////////////////////////////////

  "armor_overlay_helmet@crafting.armor_overlay": {
    "texture": "textures/ui/empty_armor_slot_helmet"
  },

  "armor_overlay_chest@crafting.armor_overlay": {
    "texture": "textures/ui/empty_armor_slot_chestplate"
  },

  "armor_overlay_legs@crafting.armor_overlay": {
    "texture": "textures/ui/empty_armor_slot_leggings"
  },

  "armor_image_feet@crafting.armor_overlay": {
    "texture": "textures/ui/empty_armor_slot_boots"
  },

  "armor_overlay_shield@crafting.offhand_overlay": {
    "texture": "textures/ui/empty_armor_slot_shield"
  },

  "player_armor_panel": {
    "type": "panel",
    "size": [ "100%", 97 ],
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",
    "controls": [
      {
        "player_panel": {
          "type": "panel",
          "size": [ 63, 84 ],
          "layer": 2,
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 90, 13 ],
          "controls": [
            { "round_recess_panel@common_console.round_recess_panel": { "layer": 2 } },
            {
              "player_bg": {
                "type": "image",
                "layer": 3,
                "texture": "textures/ui/Black",
                "size": [ "100% -4px", "100% -4px" ]
              }
            },
            {
              "player_renderer_panel": {
                "type": "panel",
                "size": [ 30, 30 ],
                "offset": [ 0, -14 ],

                "controls": [
                  {
                    "player_renderer": {
                      "type": "custom",
                      "renderer": "live_player_renderer",
                      "property_bag": {
                        "#look_at_cursor": true
                      },
                      "animation_reset_name": "screen_animation_reset",
                      "anims": [
                        "@common.screen_exit_size_animation_push",
                        "@common.screen_exit_size_animation_pop",
                        "@common.screen_entrance_size_animation_push",
                        "@common.screen_entrance_size_animation_pop"
                      ],
                      "layer": 20,
                      "anchor_from": "center",
                      "anchor_to": "center"
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "armor_grid": {
          "type": "grid",
          "layer": 1,
          "size": [ 21, 84 ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 62, 13 ],
          "grid_dimensions": [ 1, 4 ],
          "$item_collection_name": "armor_items",
          "collection_name": "$item_collection_name",
          "controls": [
            {
              "head_grid_item@common_deluxe.container_item": {
                "grid_position": [ 0, 0 ],
                "$cell_overlay_ref": "common_console.empty_armor_slot_helmet"
              }
            },
            {
              "chest_grid_item@common_deluxe.container_item": {
                "grid_position": [ 0, 1 ],
                "$cell_overlay_ref": "common_console.empty_armor_slot_chestplate"
              }
            },
            {
              "legs_grid_item@common_deluxe.container_item": {
                "grid_position": [ 0, 2 ],
                "$cell_overlay_ref": "common_console.empty_armor_slot_leggings"
              }
            },
            {
              "feet_grid_item@common_deluxe.container_item": {
                "grid_position": [ 0, 3 ],
                "$cell_overlay_ref": "common_console.empty_armor_slot_boots"
              }
            }
          ]
        }
      },
      {
        "offhand_grid": {
          "type": "grid",
          "layer": 1,
          "size": [ 21, 21 ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 160, 76 ],
          "grid_dimensions": [ 1, 1 ],
          "$item_collection_name": "offhand_items",
          "collection_name": "$item_collection_name",
          "controls": [
            {
              "offhand_grid_item@common_deluxe.container_item": {
                "grid_position": [ 0, 0 ],
                "$cell_overlay_ref": "common_console.empty_armor_slot_shield"
              }
            }
          ]
        }
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////
  //  Crafting panels, 2x2 and 3x3.
  /////////////////////////////////////////////////////////////////////////////

  "crafting_input_grid_item@crafting_deluxe.inventory_container_item": {
    "$item_collection_name": "crafting_input_items",
    "$background_images": "crafting_deluxe.crafting_container_cell_images",
    "$item_renderer_binding_condition": "always",
    "$button_ref": "crafting_deluxe.inventory_container_slot_button",

    "size": [ 23, 23 ],
    "$cell_image_size": [ 23, 23 ],
    "$item_renderer_size": [ 21, 21 ],
    "$item_renderer_offset": [ 2.5, 2.5 ],
    "$highlight_size": [ 21, 21 ]
  },

  "crafting_grid_3x3": {
    "type": "grid",
    "size": [ 69, 69 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "grid_dimensions": [ 3, 3 ],
    "collection_name": "crafting_input_items",

    "controls": [
      {
        "crafting_input_item_top_left@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 0, 0 ],

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_input_top_left",

          "$focus_override_left_binding_type": "none",
          "$focus_override_left": "armor_item_head"
        }
      },
      {
        "crafting_input_item_top_mid@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 1, 0 ]
        }
      },
      {
        "crafting_input_item_top_right@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 2, 0 ]
        }
      },
      {
        "crafting_input_item_mid_left@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 0, 1 ],

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_input_mid_left",

          "$focus_override_left_binding_type": "none",
          "$focus_override_left": "armor_item_legs"
        }
      },
      {
        "crafting_input_item_middle@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 1, 1 ]
        }
      },
      {
        "crafting_input_item_mid_right@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 2, 1 ]
        }
      },
      {
        "crafting_input_item_bot_left@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 0, 2 ]
        }
      },
      {
        "crafting_input_item_bot_mid@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 1, 2 ]
        }
      },
      {
        "crafting_input_item_bot_right@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 2, 2 ],

          "$focus_override_right_binding_type": "none",
          "$focus_override_right": "crafting_output_item"
        }
      }
    ]
  },

  "crafting_grid_2x2": {
    "type": "grid",
    "size": [ 46, 46 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "grid_dimensions": [ 2, 2 ],
    "collection_name": "crafting_input_items",

    "controls": [
      {
        "crafting_input_item_top_left@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 0, 0 ],

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_input_top_left",

          "$focus_override_left_binding_type": "none",
          "$focus_override_left": "armor_item_head"
        }
      },
      {
        "crafting_input_item_top_right@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 1, 0 ],

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_input_top_right",

          "$focus_override_right_binding_type": "none",
          "$focus_override_right": "crafting_output_item"
        }
      },
      {
        "crafting_input_item_bot_left@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 0, 1 ],

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_input_mid_left",

          "$focus_override_left_binding_type": "none",
          "$focus_override_left": "armor_item_legs"
        }
      },
      {
        "crafting_input_item_bot_right@crafting_deluxe.crafting_input_grid_item": {
          "grid_position": [ 1, 1 ],

          "$focus_override_right_binding_type": "none",
          "$focus_override_right": "crafting_output_item"
        }
      }
    ]
  },

  "output_grid_3x3": {
    "type": "grid",
    "grid_dimensions": [ 1, 1 ],
    "collection_name": "crafting_output_items",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": [ 36, 36 ],
    "controls": [
      {
        "work_bench_output@crafting_deluxe.inventory_container_item": {
          "$highlight_slot_image": "common_deluxe.highlight_slot_output",
          "$highlight_slot_border_image": "common_deluxe.highlight_border_slot_output",
          "$highlight_size": [ 32, 32 ],
          "$icon_offset": [ 2, 2 ],

          "size": [ 36, 36 ],
          "$cell_image_size": [ 36, 36 ],
          "$item_renderer_size": [ 32, 32 ],
          "$item_renderer_offset": [ 8, 8 ],

          "$item_collection_name": "crafting_output_items",
          "$button_ref": "crafting_deluxe.output_no_coalesce_container_slot_button",
          "$stack_count_binding_condition": "always",
          "$item_renderer_binding_condition": "always",
          "$background_images": "crafting_deluxe.crafting_output_container_cell_images",

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_output_item",

          "$focus_override_right_binding_type": "none",
          "$focus_override_right": "FOCUS_OVERRIDE_STOP"

          //"$focus_override_up_binding_type": "none",
          //"$focus_override_up": "FOCUS_OVERRIDE_STOP"
        }
      }
    ]
  },

  "output_grid_2x2": {
    "type": "grid",
    "grid_dimensions": [ 1, 1 ],
    "collection_name": "crafting_output_items",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": [ 36, 36 ],
    "controls": [
      {
        "work_bench_output@crafting_deluxe.inventory_container_item": {
          "$highlight_slot_image": "common_deluxe.highlight_slot_output",
          "$highlight_slot_border_image": "common_deluxe.highlight_border_slot_output",
          "$highlight_size": [ 32, 32 ],
          "$icon_offset": [ 2, 2 ],

          "size": [ 36, 36 ],
          "$cell_image_size": [ 36, 36 ],
          "$item_renderer_size": [ 32, 32 ],
          "$item_renderer_offset": [ 8, 8 ],

          "$item_collection_name": "crafting_output_items",
          "$button_ref": "crafting_deluxe.output_no_coalesce_container_slot_button",
          "$background_images": "crafting_deluxe.crafting_output_container_cell_images",
          "$item_renderer_binding_condition": "always",
          "$stack_count_binding_condition": "always",

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_output_item",
          "$focus_override_left_binding_type": "none",
          "$focus_override_left": "crafting_input_top_right",
          "$focus_override_up_binding_type": "none",
          "$focus_override_up": "help_button"
        }
      }
    ]
  },

  "work_bench_panel_3x3": {
    "type": "panel",
    "offset": [ 8.5, -8 ],
    "size": [ 162.5, 104.5 ],
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "controls": [
      {
        "recessed_panel@common_console.recessed_panel": {
          "size": [ "100%", "100%" ],
          "layer": 2
        }
      },
      {
        "recipe_item_label": {
          "type": "label",
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "size": [ "default", "default" ],
          "text": "#text",
          "color": "$title_text_color",
          "layer": 51,
          "offset": [ 0, 10 ],
          "bindings": [
            {
              "binding_name": "#recipe_item_name",
              "binding_name_override": "#text",
              "binding_type": "global",
              "binding_condition": "always_when_visible"
            }
          ]
        }
      },
      {
        "arrow_small_off@common_console.arrow_small_off": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "layer": 4,
          "offset": [ 88, 56 ]
        }
      },
      {
        "crafting_grid_3x3@crafting_deluxe.crafting_grid_3x3": {
          "layer": 4,
          "offset": [ 11.5, 29.5 ]
        }
      },
      {
        "work_bench_output_grid@crafting_deluxe.output_grid_3x3": {
          "layer": 4,
          "offset": [ 113.5, 46 ]
        }
      }
    ]
  },

  "crafting_panel_2x2": {
    "type": "panel",
    "offset": [ 8.5, -8 ],
    "size": [ 162.5, 104.5 ],
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "controls": [
      {
        "recessed_panel@common_console.recessed_panel": {
          "size": [ "100%", "100%" ],
          "layer": 2
        }
      },
      {
        "recipe_item_label": {
          "type": "label",
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "size": [ "default", "default" ],
          "text": "#text",
          "color": "$title_text_color",
          "layer": 51,
          "offset": [ 0, 10 ],
          "bindings": [
            {
              "binding_name": "#recipe_item_name",
              "binding_name_override": "#text",
              "binding_type": "global",
              "binding_condition": "always_when_visible"
            }
          ]
        }
      },
      {
        "arrow_small_off@common_console.arrow_small_off": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "layer": 4,
          "offset": [ 77.5, 58 ]
        }
      },/*
      {
        "crafting_table@crafting.item_renderer": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 77.5, 58 ],
          "property_bag": {
            "#item_id_aux": 3801088
          },
          "layer": 6,
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "crafting_panel",
              "resolve_sibling_scope": true,
              "source_property_name": "(#needs_crafting_table)",
              "target_property_name": "#visible"
            }
          ]
        }
      },*/
      {
        "crafting_grid_2x2@crafting_deluxe.crafting_grid_2x2": {
          "layer": 4,
          "offset": [ 23, 41 ]
        }
      },
      {
        "survival_crafting_output_grid@crafting_deluxe.output_grid_2x2": {
          "layer": 4,
          "offset": [ 102, 46 ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#needs_crafting_table",
        "binding_condition": "visible"
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////
  //  Base Panels.
  /////////////////////////////////////////////////////////////////////////////

  "survival_panel_top_half": {
    "type": "panel",
    "size": [ "100%", "50%" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "controls": [
      { "player_armor_panel@crafting_deluxe.player_armor_panel": {} }
    ]
  },

  "crafting_panel_top_half": {
    "type": "panel",
    "size": [ "100%", "50%" ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "controls": [
      { "crafting_panel@crafting_deluxe.work_bench_panel_3x3": { } }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////
  //  Other parts.
  /////////////////////////////////////////////////////////////////////////////

  "filter_toggle@crafting.filter_toggle": {
    "size": [ 27, 16 ],
    "$unchecked_control": "ui_deluxe_textures.craft_toggle_off",
    "$checked_control": "ui_deluxe_textures.craft_toggle_on",
    "$unchecked_hover_control": "ui_deluxe_textures.craft_toggle_off_hover",
    "$checked_hover_control": "ui_deluxe_textures.craft_toggle_on_hover"
  },

  //Search Box

  "survival_text_edit_control@common.text_edit_box": {
    "layer": 2,
    "size": [ 98, 16 ],

    "$text_background_default": "ui_deluxe_textures.survival_recipe_book_search_box",
    "$text_background_hover": "ui_deluxe_textures.survival_recipe_book_search_box_hover",

    "$text_edit_box_label_offset": [ 15, 0 ],

    "property_bag": {
      "#property_field": "#item_name"
    },

    "max_length": 30,
    "$text_edit_binding_name": "#text_box_item_name",
    "$text_edit_box_label_size": [ "default", 10 ],
    "$text_edit_box_hovered_button_id": "button.search_bar_hovered",
    "$text_edit_box_clear_to_button_id": "button.search_bar_clear",
    "$text_edit_box_selected_to_button_id": "button.search_bar_selected",
    "$text_edit_box_deselected_to_button_id": "button.search_bar_deselected",

    "focus_wrap_enabled": false,

    "$focus_id": "recipe_search_bar",
    "$focus_override_right": "craftable_toggle",
    "$focus_override_up": "FOCUS_OVERRIDE_STOP",
    
    "bindings": [
      {
        "binding_name": "(not #is_creative_mode)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "creative_text_edit_control@crafting_deluxe.survival_text_edit_control": {
    "size": [ 110, 16 ],

    "$text_background_default": "ui_deluxe_textures.creative_recipe_book_search_box",
    "$text_background_hover": "ui_deluxe_textures.creative_recipe_book_search_box_hover",

    "bindings": [
      {
        "binding_name": "#is_creative_mode",
        "binding_name_override": "#visible"
      }
    ]
  },

  "survival_text_edit_control_touch@crafting_deluxe.survival_text_edit_control": {
    "size": [ 82, 16 ],

    "$text_background_default": "ui_deluxe_textures.survival_recipe_book_search_box_touch",
    "$text_background_hover": "ui_deluxe_textures.survival_recipe_book_search_box_hover_touch",
    "bindings": [
      {
        "binding_name": "(not #is_creative_mode)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "survival_text_edit_panel": {
    "type": "panel",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "offset": [ 10, 10 ],
    "size": "$text_edit_size",
    "controls": [
      { 
        "survival_text_edit_control@crafting_deluxe.survival_text_edit_control": {
          "ignored": "($touch)"
        }
      }, 
      {
        "survival_text_edit_control_touch@crafting_deluxe.survival_text_edit_control_touch": {
          "ignored": "(not $touch)"
        }
      }
    ],
    "variables": [
      {
        "requires": "($touch)",
        "$text_edit_size": [ 82, 16 ]
      },
      {
        "requires": "(not $touch)",
        "$text_edit_size": [ 98, 16 ]
      }
    ]
  },

  "creative_text_edit_panel": {
    "type": "panel",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "offset": [ 10, 10 ],
    "size": [ 110, 16 ],
    "controls": [
      { "creative_text_edit_control@crafting_deluxe.creative_text_edit_control": { } }
    ]
  },

  //Text Panel

  "text_panel@common_deluxe.text_panel": {
    "size": "$text_panel_size",
    "offset": [ 7, -14 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "ignored": true,
    "layer": -3,
    "controls": [
      {
        "creative_label": {
          "type": "label",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 4, 3 ],
          "shadow": true,
          "color": "$item_hover_text_color",
          "layer": 2,
          "text": "#tab_label_text",
          "bindings": [
            {
              "binding_name": "#tab_label_text"
            }
          ]
        }
      }
    ],
    "variables": [
      {
        "requires": "($touch)",
        "$text_panel_size": [ 116, 22 ]
      },
      {
        "requires": "(not $touch)",
        "$text_panel_size": [ 132, 22 ]
      }
    ]
  },

  "full_creative_search_box": {
    "type": "image",
    "texture": "textures/ui_deluxe/creative_search_box",
    "size": [ 200, 16 ]
  },

  "full_creative_search_box_hover@crafting_deluxe.full_creative_search_box": {
    "texture": "textures/ui_deluxe/creative_search_box_hover"
  },

  "full_text_edit_control@common.text_edit_box": {
    "layer": 12,
    "anchor_from": "top_left",
    "anchor_to": "top_left",

    "$text_background_default": "common_console.text_input_default",
    "$text_background_hover": "common_console.text_input_hover",

    "$text_edit_box_label_offset": [ 2, 0 ],

    "property_bag": {
      "#property_field": "#item_name"
    },

    "max_length": 30,
    "$text_edit_binding_name": "#text_box_item_name",
    "$text_edit_box_label_size": [ "default", 10 ],
    "$text_edit_box_hovered_button_id": "button.search_bar_hovered",
    "$text_edit_box_clear_to_button_id": "button.search_bar_clear",
    "$text_edit_box_selected_to_button_id": "button.search_bar_selected",
    "$text_edit_box_deselected_to_button_id": "button.search_bar_deselected",

    "focus_wrap_enabled": false,

    "$focus_id": "recipe_search_bar",
    "$focus_override_right": "craftable_toggle",
    "$focus_override_up": "FOCUS_OVERRIDE_STOP"
  },

  /////////////////////////////////////////////////////////////////////////////
  //  Layout Panels.
  /////////////////////////////////////////////////////////////////////////////

  "player_inventory@common.root_panel": {
    "layer": 4,
    "size": [ 215.5, 217.5 ],
    "controls": [
      { "common_panel@common_deluxe.common_panel_container": { } },
      {
        "inventory_panel_top_half@crafting_deluxe.survival_panel_top_half": {
          "layer": 2
        }
      },
      {
        "inventory_panel_bottom_half@common_deluxe.inventory_panel_bottom_half": {
          "layer": 2,
          "$button_ref": "crafting_deluxe.inventory_container_slot_button"
        }
      },
      {
        "hotbar_grid@common_deluxe.hotbar_grid_template": {
          "layer": 2,
          "$button_ref": "crafting_deluxe.inventory_container_slot_button"
        }
      },
      { "show_creative_toggle@crafting_deluxe.show_creative_toggle": { "size": [ 215.5, 217.5 ] } },
      { "recipe_book_toggle_panel@crafting_deluxe.recipe_book_toggle_panel": { "size": [ 215.5, 217.5 ] } }
    ]
  },

  "crafting_panel@common.root_panel": {
    "layer": 4,
    "size": [ 176, 166 ],
    "$dialog_background": "crafting_table_java.dialog_background_crafting_java",
    "controls": [
      { "common_panel@common_deluxe.common_panel_container": { } },
      {
        "crafting_panel_top_half@crafting_deluxe.crafting_panel_top_half": {
          "layer": 2
        }
      },
      {
        "inventory_panel_bottom_half@common_deluxe.inventory_panel_bottom_half": {
          "layer": 2,
          "$button_ref": "crafting_deluxe.inventory_container_slot_button"
        }
      },
      {
        "hotbar_grid@common_deluxe.hotbar_grid_template": {
          "layer": 2,
          "$button_ref": "crafting_deluxe.inventory_container_slot_button"
        }
      },
      { "crafting_show_recipe_book_toggle@crafting_deluxe.crafting_show_recipe_book_toggle": { } }
    ]
  },

  "recipe_book_layout": {
    "type": "panel",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": [ 344.5, 232.5 ],
    "controls": [
      {
        "tab_navigation_panel@crafting_deluxe.tab_navigation_panel_layout": {
          "size": [ 295.5, 46 ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 0, -37 ]
        }
      },
      { "common_panel@common_deluxe.common_panel_container": { } },
      {
        "tab_content_panel@crafting_deluxe.tab_content": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ "100%", "100%" ],
          "layer": 2,
          "$scrolling_pane_control": "crafting_deluxe.recipe_book_scroll_panel"
        }
      },
      { "inventory_panel_small@common_deluxe.inventory_panel_small": { } },
      { "show_creative_toggle@crafting_deluxe.show_creative_toggle": { "size": [ 344.5, 232.5 ] } },
      { "recipe_book_toggle_panel@crafting_deluxe.recipe_book_toggle_panel": { "size": [ 344.5, 232.5 ] } }
    ]
  },

  "creative_layout": {
    "type": "panel",
    "size": [ 321.5, 212 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "controls": [
      {
        "tab_navigation_panel@creative_new_deluxe.tab_navigation_panel_layout": {
          "size": [ 241.5, 46 ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 0, -37 ]
        }
      },
      { "common_panel@common_deluxe.common_panel_container": { } },
      { "hide_creative_toggle@crafting_deluxe.hide_creative_toggle": { } },
      {
        "tab_content_panel@crafting_deluxe.creative_tab_content": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ "100%", 174 ],
          "layer": 2,
          "$scrolling_pane_control": "crafting_deluxe.creative_scroll_panel"
        }
      },
      {
        "creative_hotbar_panel@common_deluxe.hotbar_grid_template_27": {
          "layer": 3,
          "$button_ref": "crafting.creative_hotbar_container_slot_button"
        }
      }
    ],
    "variables": [
      {
        "requires": "($touch)",
        "$container_size": [ 220, 150 ]
      },
      {
        "requires": "(not $touch)",
        "$container_size": [ 236, 150 ]
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////
  //  Survival inventory and crafting.
  /////////////////////////////////////////////////////////////////////////////

  "warning_icon@common_console.warning_icon": {
    "visible": "(not $alt_inventory_grid_ui)",
    "$icon_offset|default": [ 1, 1 ],
    "offset": "$icon_offset",
    "layer": 5,
    "anchor_to": "top_left",
    "anchor_from": "top_left"
  },

  "recipe_container_cell_images": {
    "type": "image",
    "$cell_images_binding_condition|default": "visible",
    "size": "$cell_image_size",
    "$cell_image_size|default": [ "default", "default" ],

    "controls": [
      { "cell_default@crafting_deluxe.cell_image_recipe_default": {} },
      { "cell_head_collapsed@crafting_deluxe.cell_image_recipe_group_head_collapsed": {} },
      { "cell_head_expanded@crafting_deluxe.cell_image_recipe_group_head_expanded": {} },
      { "cell_group_item@crafting_deluxe.cell_image_recipe_group_item": {} },
      { "cell_group_selected@crafting_deluxe.cell_image_recipe_selected": {} },
      { "cell_group_item_default_red@crafting_deluxe.cell_image_recipe_default_red": {} }
    ],
    "bindings": [
      {
        "binding_name": "#container_item_background",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "$cell_images_binding_condition"
      }
    ]
  },

  "cell_image_recipe_default": {
    "type": "panel",
    "$cell_image_size": [ 27, 27 ],
    "size": "$cell_image_size",
    "controls": [
      {
        "cell_image_recipe_default@ui_deluxe_textures.cell_image_recipe_default": {
          "bindings": [
            {
              "binding_name": "(not #is_creative_mode)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "cell_image_recipe_creative@ui_deluxe_textures.cell_image_recipe_creative": {
          "bindings": [
            {
              "binding_name": "#is_creative_mode",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 0)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_recipe_group_head_collapsed@ui_deluxe_textures.cell_image_recipe_group_head_collapsed": {
    "$cell_image_size": [ 27, 27 ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 1)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_recipe_group_head_expanded@ui_deluxe_textures.cell_image_recipe_group_head_expanded": {
    "$cell_image_size": [ 27, 27 ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 2)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_recipe_group_item@ui_deluxe_textures.cell_image_recipe_group_item": {
    "$cell_image_size": [ 27, 27 ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 3)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_recipe_selected@ui_deluxe_textures.cell_image_recipe_selected": {
    "$cell_image_size": [ 27, 27 ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 4)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_recipe_default_red@ui_deluxe_textures.cell_image_recipe_default_red": {
    "$cell_image_size": [ 27, 27 ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 5)",
        "target_property_name": "#visible"
      }
    ]
  },

  "container_cell_images": {
    "type": "panel",
    "$cell_images_binding_condition|default": "visible",
    "controls": [
      { "cell_classic@crafting_deluxe.cell_image_classic": {} },
      { "cell_normal@crafting_deluxe.cell_image_normal": {} },
      { "cell_invert@crafting_deluxe.cell_image_invert": {} },
      { "cell_red@crafting_deluxe.cell_image_red": {} },
      { "cell_selected@crafting_deluxe.cell_image_selected": {} }
    ],
    "bindings": [
      {
        "binding_name": "#container_item_background",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "$cell_images_binding_condition"
      }
    ]
  },

  "crafting_container_cell_images@crafting_deluxe.container_cell_images": {
    "$cell_images_binding_condition": "always"
  },

  "crafting_output_container_cell_images@crafting_deluxe.container_cell_images": {
    "controls": [
      { "cell_classic@crafting_deluxe.cell_image_classic_output": {} },
      { "cell_normal@crafting_deluxe.cell_image_normal": {} },
      { "cell_invert@crafting_deluxe.cell_image_invert": {} },
      { "cell_red@crafting_deluxe.cell_image_output_red": {} },
      { "cell_selected@crafting_deluxe.cell_image_selected": {} }
    ],
    "$cell_images_binding_condition": "always"
  },

  "crafting_recipe_container_cell_images@crafting_deluxe.container_cell_images": {
    "controls": [
      { "cell_classic@crafting_deluxe.cell_image_classic": {} },
      { "cell_normal@crafting_deluxe.cell_image_normal": {} },
      { "cell_invert@crafting_deluxe.cell_image_invert": {} },
      { "cell_red@crafting_deluxe.cell_image_red": {} },
      { "cell_selected@crafting_deluxe.cell_image_selected": {} }
    ]
  },

  "cell_image_classic@common_console.icon_holder": {
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 0)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_classic_output@common_console.icon_holder_output": {
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 0)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_normal@common_deluxe.null_panel": {
    "size": "$item_renderer_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 1)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_invert@common_deluxe.null_panel": {
    "size": "$item_renderer_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 2)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_red@common_deluxe.null_panel": {
    "size": "$cell_image_size",
    "controls": [
      { "warning_icon@crafting_deluxe.warning_icon": { } },
      { "icon_holder_red@common_console.icon_holder_red": { } }
    ],
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 3)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_output_red@common_deluxe.null_panel": {
    "size": "$cell_image_size",
    "controls": [
      { "warning_icon@crafting_deluxe.warning_icon": { } },
      { "highlight_red@common_console.icon_holder_output_red": { } }
    ],
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 3)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_selected@common_deluxe.null_panel": {
    "size": "$item_renderer_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 4)",
        "target_property_name": "#visible"
      }
    ]
  },

  //  Output

  "container_overlay_images": {
    "type": "panel",
    "controls": [
      { "expand@crafting.item_overlay_expand": {} },
      { "contract@crafting.item_overlay_contract": {} }
    ],
    "bindings": [
      {
        "binding_name": "#container_item_modifier",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "visible"
      }
    ]
  },

  "item_overlay_image": {
    "type": "image",
    "size": [ 7, 7 ],
    "offset": [ -1, -1 ],
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right"
  },

  "item_overlay_contract@crafting.item_overlay_image": {
    "texture": "textures/ui/recipe_book_collapse_icon",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$overlay_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_modifier = 1)",
        "target_property_name": "#visible"
      }
    ]
  },

  "item_overlay_expand@crafting.item_overlay_image": {
    "texture": "textures/ui/recipe_book_expand_icon",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$overlay_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_modifier = 2)",
        "target_property_name": "#visible"
      }
    ]
  },

  "inventory_container_item@common_deluxe.container_item": {
    "$button_ref|default": "crafting_deluxe.inventory_container_slot_button",
    "$background_images|default": "crafting_deluxe.container_cell_images",

    "$overlay_images|default": "crafting.container_overlay_images",
    "$overlay_image_control_name|default": "overlay",

    "controls": [
      {
        "item_cell": {
          "type": "panel",
          "size": "$cell_image_size",
          "controls": [
            {
              "$background_image_control_name@$background_images": {
                "layer": 1
              }
            },
            {
              "item": {
                "type": "panel",
                "size": "$item_renderer_panel_size",
                "offset": "$item_renderer_offset",
                "controls": [
                  {
                    "stack_count_label@common.stack_count_label": {
                      "layer": 8
                    }
                  },
                  {
                    "$item_renderer@$item_renderer": {
                      "size": "$item_renderer_size",
                      "anchor_to": "center",
                      "anchor_from": "center",
                      "layer": 5
                    }
                  }
                ]
              }
            },
            {
              "durability_bar@common.durability_bar": {
                "layer": 6
              }
            },
            {
              "$overlay_image_control_name@$overlay_images": {
                "layer": 7
              }
            }
          ]
        }
      },
      {
        "item_cell_overlay_ref@$cell_overlay_ref": {
          "layer": 2
        }
      },
      {
        "item_selected_image@common.slot_selected": {
          "layer": 3
        }
      },
      {
        "item_button_ref@$button_ref": {
          "layer": 4
        }
      }
    ]
  },

  "grid_item_for_recipe_book@crafting_deluxe.inventory_container_item": {
    "$stack_count_required": true,
    "$durability_bar_required": false,
    "$item_renderer_binding_condition": "visible",
    "$button_ref": "crafting_deluxe.creative_no_coalesce_container_slot_button",
    "$background_images": "crafting_deluxe.recipe_container_cell_images",

    "$stack_count_binding_name": "#recipe_craftable_count",
    "$item_collection_name": "recipe_book",
    "$scrolling_grid_item_size|default": [ 27, 27 ],
    "$hover_text_binding_name": "#recipe_hover_text",
    "size": "$scrolling_grid_item_size",

    "$cell_image_size": [ 27, 27 ],
    "$item_renderer_size": [ 24, 24 ],
    "$item_renderer_offset": [ 4, 4 ],
    "$highlight_size": [ 24, 24 ]
  },



  //----------------------------------
  //----------------------------------

  "scroll_grid_panel": {
    "type": "panel",
    "size": [ "100%", "100%c + 2px" ],
    "controls": [
      { "grid@crafting_deluxe.scroll_grid": {} }
    ]
  },

  "scroll_grid": {
    "type": "grid",
    "size": [ "100%", "default" ],
    "layer": 1,
    "anchor_to": "top_left",
    "anchor_from": "top_left",

    "$binding_condition|default": "visible",
    "$grid_item_precache_count|default": 0,
    "$grid_item_template|default": "crafting_deluxe.grid_item_for_recipe_book",

    "collection_name": "$collection_name",
    "grid_rescaling_type": "horizontal",
    "grid_item_template": "$grid_item_template",
    "precached_grid_item_count": "$grid_item_precache_count",
    "bindings": [
      {
        "binding_name": "#recipe_book_total_items",
        "binding_name_override": "#maximum_grid_items",
        "binding_condition": "$binding_condition",
        "binding_type": "collection",
        "binding_collection_name": "$collection_name"
      }
    ]
  },

  "scroll_box_image": {
    "type": "image",
    "texture": "textures/ui/ScrollBox"
  },

  "scroll_bar_side_rails": {
    "type": "image",
    "layer": 1,
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "texture": "textures/ui/ScrollGutterWithBG"
  },

  "scrollbar_track": {
    "type": "panel",
    "layer": 1,
    "anchor_to": "top_right",
    "anchor_from": "top_right",
    "controls": [
      {
        "rails@crafting.scroll_bar_side_rails": {
          "allow_clipping": false
        }
      }
    ]
  },

  "creative_scroll_box": {
    "type": "image",
    "texture": "textures/ui_deluxe/creative_scroll_box",
    "size": [ "100% +2px", "100% +2px" ]
  },

  "scroll_panel@common.scrolling_panel_with_offset": {
    "$scrolling_pane_offset": [ 8.5, 27.5 ],
    "$scrolling_pane_size": [ 325, 84 ],

    "$scroll_view_port_offset": [ 1.5, 1.5 ],
    "$scroll_view_port_offset_touch": [ 1.5, 1.5 ],

    "$scroll_view_port_size": [ 297, 81 ],
    "$scroll_view_port_size_touch": [ 297, 81 ],

    "$scroll_size": [ 16, 81 ],
    "$scroll_background_image_control": "",
    "$scroll_track_image_control": "common_console.scroll_track",
    "$scroll_box_mouse_image_control": "common_console.scroll_box",
    "$scroll_box_touch_image_control": "common_deluxe.null_panel",
    "$scrolling_panel_base_button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.attempt_discard_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.attempt_discard_one",
        "mapping_type": "pressed"
      }
    ]
  },

  "recipe_book_scroll_panel@crafting_deluxe.scroll_panel": {
    "$scrolling_content": "crafting_deluxe.scroll_grid_panel",
    "$collection_name": "recipe_book"
  },

  // Creative

  "scroll_panel_creative@common.scrolling_panel_with_offset": {
    "$scrolling_pane_offset": [ 18, 26 ],
    "$scrolling_pane_size": [ 295, 138 ],

    "$scroll_view_port_offset": [ 1.5, 1.5 ],
    "$scroll_view_port_offset_touch": [ 1.5, 1.5 ],

    "$scroll_view_port_size": [ 270, 135 ],
    "$scroll_view_port_size_touch": [ 270, 135 ],

    "$scroll_size": [ 16, 135 ],
    "$scroll_background_image_control": "",
    "$scroll_track_image_control": "common_console.scroll_track",
    "$scroll_box_mouse_image_control": "common_console.scroll_box",
    "$scroll_box_touch_image_control": "common_deluxe.null_panel",
    "$scrolling_panel_base_button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.attempt_discard_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.attempt_discard_one",
        "mapping_type": "pressed"
      }
    ]
  },

  "creative_scroll_panel@crafting_deluxe.scroll_panel_creative": {
    "$scrolling_content": "crafting_deluxe.scroll_grid_panel",
    "$collection_name": "recipe_book"
  },

  /////////////////////////////////////////////////////////////////////////////
  //  Screens.
  /////////////////////////////////////////////////////////////////////////////

  "recipe_inventory_screen_content": {
    "type": "panel",
    "controls": [
      {
        "flying_item_renderer@common.flying_item_renderer": {
          "layer": 8
        }
      },
      {
        "content_stack_panel": {
          "type": "stack_panel",
          "size": [ 344.5, 232.5 ],
          "orientation": "vertical",
          "controls": [
            {
              "creative_top_padding": {
                "type": "panel",
                "size": [ "100%", 10.25 ],
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "#is_creative_layout",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "survival_top_padding": {
                "type": "panel",
                "size": [ "100%", 7.5 ],
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "#is_survival_layout",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "bottom_stack_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ 323, 166 ],
                "controls": [
                  {
                    "creative_padding": {
                      "type": "panel",
                      "size": [ 11.5, "100%" ],
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "#is_creative_layout",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "survival_padding": {
                      "type": "panel",
                      "size": [ 64.5, "100%" ],
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "#is_survival_layout",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "recipe_book_layout@crafting_deluxe.recipe_book_layout": { 
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "#is_recipe_book_layout",
                          "binding_name_override": "#visible"
                        }
                      ]
                    } 
                  },
                  {
                    "creative_layout@crafting_deluxe.creative_layout": {
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "#is_creative_layout",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "player_inventory@crafting_deluxe.player_inventory": {
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "#is_survival_layout",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      { "inventory_take_progress_icon_button@common.inventory_take_progress_icon_button": {} },
      { "inventory_selected_icon_button@common_deluxe.inventory_selected_icon_button": {} },
      { "hold_icon@common.inventory_take_progress_icon_button": {} },
      {
        "controller_gamepad_helpers_stack_panel": {
          "type": "stack_panel",
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "controls": [
            { "container_gamepad_helpers_second_row@crafting_deluxe.container_gamepad_helpers_second_row": {} },
            {
              "container_gamepad_helpers@common_deluxe.container_gamepad_helpers": {
                "$helper_x_control": "crafting.inventory_x_gamepad_helper",
                "$helper_y_control": "crafting.inventory_y_gamepad_helper",
                "$helper_a_control": "crafting.inventory_a_gamepad_helper"
              }
            }
          ]
        }
      },
      {
        "flying_item_renderer@common.flying_item_renderer": {
          "layer": 13
        }
      }
    ]
  },

  "controls": [
    { 
      "tab_items@recipe_book_new_java.tab_items": {
        "ignored": "($touch)",
        "size": [ 146, 166 ]
      }
    },
    {
      "tab_items_touch@recipe_book_new_java.tab_items_touch": {
        "ignored": "(not $touch)",
        "size": [ 130, 166 ]
      }
    }
  ],

  "recipe_crafting_screen_content": {
    "type": "panel",
    "controls": [
      {
        "flying_item_renderer@common.flying_item_renderer": {
          "layer": 8
        }
      },
      {
        "content_stack_panel": {
          "type": "stack_panel",
          "size": [ 344.5, 232.5 ],
          "orientation": "horizontal",
          "controls": [
            { "recipe_book_layout@crafting_deluxe.recipe_book_layout": { } }
          ]
        }
      },
      { "inventory_take_progress_icon_button@common.inventory_take_progress_icon_button": {} },
      { "inventory_selected_icon_button@common_deluxe.inventory_selected_icon_button": {} },
      { "hold_icon@common.inventory_take_progress_icon_button": {} },
      {
        "controller_gamepad_helpers_stack_panel": {
          "type": "stack_panel",
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "controls": [
            { "gamepad_helpers_second_row@crafting_deluxe.container_gamepad_helpers_second_row_single": {} },
            {
              "container_gamepad_helpers@common_deluxe.container_gamepad_helpers": {
                "$helper_x_control": "crafting.inventory_x_gamepad_helper",
                "$helper_y_control": "crafting.inventory_y_gamepad_helper",
                "$helper_a_control": "crafting.inventory_a_gamepad_helper"
              }
            }
          ]
        }
      },
      {
        "flying_item_renderer@common.flying_item_renderer": {
          "layer": 13
        }
      }
    ]
  }
}